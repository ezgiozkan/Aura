<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">
    <title>Luxury AI Dating Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            overflow: hidden;
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', system-ui, sans-serif;
            position: fixed;
            width: 100%;
            height: 100%;
            /* iOS safe areas */
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, #0a0612 0%, #1a0a1f 50%, #0f0515 100%);
            touch-action: none;
        }

        .atmospheric-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(168, 85, 247, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.12) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.08) 0%, transparent 60%);
            pointer-events: none;
            mix-blend-mode: screen;
            opacity: 0.7;
        }

        .vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: radial-gradient(ellipse at center, transparent 10%, rgba(0,0,0,0.35) 65%, rgba(0,0,0,0.75) 100%);
            z-index: 100;
        }

        /* Foreground text container */
        .text-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 200;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .main-text-container {
            text-align: center;
            padding: 0 30px;
            max-width: 600px;
        }

        .main-heading {
            font-family: 'Cormorant Garamond', 'Playfair Display', Georgia, serif;
            font-size: clamp(42px, 11vw, 72px);
            font-weight: 300;
            color: #ffffff;
            margin-bottom: 20px;
            letter-spacing: 1px;
            line-height: 1.2;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
            opacity: 0;
            animation: fadeInUp 1.2s ease-out 0.3s forwards;
        }

        .tagline {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            font-size: clamp(16px, 4vw, 22px);
            font-weight: 400;
            color: rgba(255, 255, 255, 0.85);
            letter-spacing: 0.5px;
            text-shadow: 0 2px 12px rgba(0, 0, 0, 0.7);
            opacity: 0;
            animation: fadeInUp 1.2s ease-out 0.8s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .text-change {
            animation: textChange 0.8s ease-in-out;
        }

        @keyframes textChange {
            0%, 100% {
                opacity: 1;
                transform: translateY(0);
            }
            50% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        .card {
            position: absolute;
            width: min(65vw, 260px);
            height: min(48vh, 380px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
            transition: transform 0.3s ease;
            will-change: transform;
            border: 1px solid rgba(255, 255, 255, 0.1);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.82) contrast(1.1) saturate(1.08);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .card-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 18px;
            background: linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.4) 60%, transparent 100%);
        }

        .card-name {
            font-size: clamp(20px, 5vw, 26px);
            font-weight: 600;
            color: white;
            margin-bottom: 5px;
            text-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }

        .card-info {
            font-size: clamp(11px, 2.5vw, 13px);
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            gap: 8px;
            align-items: center;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }

        .card-bio {
            font-size: clamp(10px, 2.3vw, 12px);
            line-height: 1.4;
            color: rgba(255, 255, 255, 0.85);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Chat Card Styles */
        .chat-card {
            background: #ffffff;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chat-header-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .chat-avatar-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .whatsapp-header {
            background: #25D366;
        }

        .telegram-header {
            background: #0088cc;
        }

        .instagram-header {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }

        .chat-name-text {
            font-size: 15px;
            font-weight: 600;
            color: #000;
        }

        .chat-message {
            padding: 8px 12px;
            border-radius: 12px;
            font-size: clamp(11px, 2.5vw, 13px);
            max-width: 80%;
            line-height: 1.4;
        }

        .chat-message.received {
            background: #f0f0f0;
            align-self: flex-start;
            color: #000;
        }

        .chat-message.sent {
            align-self: flex-end;
            color: #fff;
        }

        .whatsapp-sent {
            background: #DCF8C6;
            color: #000;
        }

        .telegram-sent {
            background: #0088cc;
        }

        .instagram-sent {
            background: #262626;
        }

        .badge {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="atmospheric-overlay"></div>
    <div id="cards-container"></div>
    <div class="vignette"></div>
    
    <!-- Text overlay area -->
    <div class="text-overlay">
        <div class="main-text-container">
            <h1 class="main-heading" id="dynamic-heading">For the destined</h1>
            <p class="tagline" id="dynamic-tagline">Where every message matters</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('cards-container');
        
        let width, height;
        let time = 0;
        const LOOP_DURATION = 15000; // 15 seconds for longer, cinematic loop
        
        // Dynamic text content
        const textPairs = [
            {
                heading: "For the destined",
                tagline: "Where every message matters"
            },
            {
                heading: "Your AI wingman",
                tagline: "Never run out of words again"
            },
            {
                heading: "Flirt with confidence",
                tagline: "Powered by intelligent charm"
            },
            {
                heading: "The art of connection",
                tagline: "Master every conversation"
            },
            {
                heading: "Aura",
                tagline: "Your dating assistant"
            }
        ];
        
        let currentTextIndex = 0;
        
        function changeText() {
            const heading = document.getElementById('dynamic-heading');
            const tagline = document.getElementById('dynamic-tagline');
            
            heading.classList.add('text-change');
            tagline.classList.add('text-change');
            
            setTimeout(() => {
                currentTextIndex = (currentTextIndex + 1) % textPairs.length;
                heading.textContent = textPairs[currentTextIndex].heading;
                tagline.textContent = textPairs[currentTextIndex].tagline;
                
                heading.classList.remove('text-change');
                tagline.classList.remove('text-change');
            }, 400);
        }
        
        // Change text every 4 seconds
        setInterval(changeText, 4000);
        
        // Profile data - Mix of dating profiles and chat screens
        const profiles = [
            {
                name: 'Sophia',
                age: 26,
                job: 'âœˆï¸ Flight Attendant',
                distance: '3 miles away',
                bio: 'Adventure seeker with a passport full of stories. Coffee enthusiast and sunset chaser.',
                image: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=800&q=80',
                badge: 'ðŸ’•',
                type: 'profile'
            },
            {
                name: 'WhatsApp',
                type: 'chat',
                chatType: 'whatsapp',
                messages: [
                    { type: 'received', text: 'Hey! How was your day? ðŸ˜Š' },
                    { type: 'sent', text: 'Amazing! Just finished that project' },
                    { type: 'received', text: 'That\'s great! Want to celebrate?' }
                ]
            },
            {
                name: 'Emma',
                age: 24,
                job: 'ðŸŽ¨ Artist',
                distance: '5 miles away',
                bio: 'Creating beauty one brushstroke at a time. Museum dates and late-night conversations.',
                image: 'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=800&q=80',
                badge: 'âœ¨',
                type: 'profile'
            },
            {
                name: 'Telegram',
                type: 'chat',
                chatType: 'telegram',
                messages: [
                    { type: 'received', text: 'Coffee tomorrow? â˜•' },
                    { type: 'sent', text: 'Perfect! 10am works?' },
                    { type: 'received', text: 'See you there! ðŸ’™' }
                ]
            },
            {
                name: 'Isabella',
                age: 28,
                job: 'ðŸ“¸ Photographer',
                distance: '2 miles away',
                bio: 'Capturing moments that matter. Dog mom, wine lover, and hopeless romantic.',
                image: 'https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=800&q=80',
                badge: 'ðŸ’‹',
                type: 'profile'
            },
            {
                name: 'Instagram',
                type: 'chat',
                chatType: 'instagram',
                messages: [
                    { type: 'received', text: 'Loved your last post! ðŸ”¥' },
                    { type: 'sent', text: 'Thank you! ðŸ˜Š' },
                    { type: 'received', text: 'Dinner this weekend?' }
                ]
            },
            {
                name: 'Olivia',
                age: 27,
                job: 'ðŸ’¼ Entrepreneur',
                distance: '6 miles away',
                bio: 'Building dreams by day, exploring the city by night. Ambitious and adventurous.',
                image: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=800&q=80',
                badge: 'ðŸ”¥',
                type: 'profile'
            }
        ];

        class FloatingCard {
            constructor(profile, index, total) {
                this.profile = profile;
                this.element = this.createElement();
                
                // Positioning for 4 cards - nicely distributed
                this.depth = 0.5 + (index / total) * 0.35; // 0.5 to 0.85
                
                // Manual positioning for 7 cards - covering all screen areas
                const positions = [
                    { x: 0.15, y: 0.20 }, // Top left
                    { x: 0.50, y: 0.15 }, // Top center
                    { x: 0.82, y: 0.25 }, // Top right  
                    { x: 0.22, y: 0.55 }, // Middle left
                    { x: 0.75, y: 0.58 }, // Middle right
                    { x: 0.30, y: 0.78 }, // Bottom left
                    { x: 0.68, y: 0.75 }  // Bottom right
                ];
                
                const pos = positions[index % 7];
                this.baseX = pos.x * width;
                this.baseY = pos.y * height;
                this.baseZ = this.depth * 900;
                
                // Motion parameters - slower for longer loop
                this.phase = (index / total) * Math.PI * 2;
                this.rotateSpeed = 0.2 + Math.random() * 0.3; // Slower rotation
                this.floatSpeed = 0.35 + Math.random() * 0.4; // Slower floating
                
                // Initial blur based on depth
                this.updatePosition(0);
            }
            
            createElement() {
                const card = document.createElement('div');
                card.className = 'card';
                
                if (this.profile.type === 'chat') {
                    // Create chat interface
                    const chatContainer = document.createElement('div');
                    chatContainer.className = 'chat-card';
                    
                    // Chat header
                    const header = document.createElement('div');
                    header.className = 'chat-header-bar';
                    
                    const avatar = document.createElement('div');
                    avatar.className = `chat-avatar-icon ${this.profile.chatType}-header`;
                    avatar.textContent = this.profile.chatType === 'whatsapp' ? 'ðŸ“±' : 
                                        this.profile.chatType === 'telegram' ? 'âœˆï¸' : 'ðŸ“·';
                    
                    const nameText = document.createElement('div');
                    nameText.className = 'chat-name-text';
                    nameText.textContent = this.profile.name;
                    
                    header.appendChild(avatar);
                    header.appendChild(nameText);
                    chatContainer.appendChild(header);
                    
                    // Messages
                    this.profile.messages.forEach(msg => {
                        const msgDiv = document.createElement('div');
                        msgDiv.className = `chat-message ${msg.type} ${this.profile.chatType}-${msg.type}`;
                        msgDiv.textContent = msg.text;
                        chatContainer.appendChild(msgDiv);
                    });
                    
                    card.appendChild(chatContainer);
                } else {
                    // Create profile card (existing code)
                    const img = document.createElement('img');
                    img.src = this.profile.image;
                    img.alt = this.profile.name;
                    
                    const overlay = document.createElement('div');
                    overlay.className = 'card-overlay';
                    
                    const name = document.createElement('div');
                    name.className = 'card-name';
                    name.textContent = `${this.profile.name}, ${this.profile.age}`;
                    
                    const info = document.createElement('div');
                    info.className = 'card-info';
                    info.innerHTML = `<span>${this.profile.job}</span><span>${this.profile.distance}</span>`;
                    
                    const bio = document.createElement('div');
                    bio.className = 'card-bio';
                    bio.textContent = this.profile.bio;
                    
                    const badge = document.createElement('div');
                    badge.className = 'badge';
                    badge.textContent = this.profile.badge;
                    
                    overlay.appendChild(name);
                    overlay.appendChild(info);
                    overlay.appendChild(bio);
                    card.appendChild(img);
                    card.appendChild(overlay);
                    card.appendChild(badge);
                }
                
                container.appendChild(card);
                return card;
            }
            
            updatePosition(globalTime) {
                const loopProgress = (globalTime % LOOP_DURATION) / LOOP_DURATION;
                const angle = loopProgress * Math.PI * 2 + this.phase;
                
                // Increased floating motion for better screen coverage
                const x = this.baseX + Math.sin(angle * this.floatSpeed) * 85 * this.depth;
                const y = this.baseY + Math.sin(angle * this.rotateSpeed + 1) * 70 * this.depth;
                
                // Scale for depth effect
                const scale = 0.65 + this.depth * 0.45; // 0.65 to 1.1
                
                // Very subtle rotation
                const rotate = Math.sin(angle * 0.3) * 2;
                
                // Soft blur - faces still recognizable
                const blur = 1.5 + (1 - this.depth) * 3.5; // 1.5px to 5px blur
                
                // Good opacity - visible but atmospheric
                const opacity = 0.55 + this.depth * 0.3; // 0.55 to 0.85
                
                this.element.style.transform = `
                    translate(${x}px, ${y}px) 
                    scale(${scale}) 
                    rotate(${rotate}deg)
                    translateZ(${this.baseZ}px)
                `;
                this.element.style.filter = `blur(${blur}px) brightness(${0.78 + this.depth * 0.18})`;
                this.element.style.opacity = opacity;
                this.element.style.zIndex = Math.floor(this.depth * 60);
            }
        }
        
        let cards = [];
        
        function resize() {
            const dpr = window.devicePixelRatio || 1;
            width = window.innerWidth;
            height = window.innerHeight;
            
            // Optimize canvas for iOS Retina displays
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            ctx.scale(dpr, dpr);
            
            // Reinitialize cards on resize
            if (cards.length > 0) {
                init();
            }
        }
        
        function init() {
            // Clear existing cards
            container.innerHTML = '';
            cards = [];
            
            // Create floating cards
            profiles.forEach((profile, index) => {
                cards.push(new FloatingCard(profile, index, profiles.length));
            });
        }
        
        function drawParticles() {
            // Subtle particle effect
            const loopProgress = (time % LOOP_DURATION) / LOOP_DURATION;
            
            for (let i = 0; i < 30; i++) {
                const phase = (i / 30) * Math.PI * 2;
                const angle = loopProgress * Math.PI * 2 + phase;
                
                const x = width * 0.5 + Math.sin(angle * 0.5 + phase) * width * 0.4;
                const y = height * 0.5 + Math.sin(angle * 0.7 + phase * 1.5) * height * 0.3;
                const size = 1 + Math.sin(angle + phase) * 0.5;
                const opacity = 0.1 + Math.sin(angle * 2 + phase) * 0.1;
                
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, size * 8);
                gradient.addColorStop(0, `rgba(168, 85, 247, ${opacity})`);
                gradient.addColorStop(0.5, `rgba(236, 72, 153, ${opacity * 0.5})`);
                gradient.addColorStop(1, 'rgba(168, 85, 247, 0)');
                
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(x, y, size * 8, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function animate() {
            time += 16;
            
            // Clear with fade
            ctx.fillStyle = 'rgba(10, 6, 18, 0.05)';
            ctx.fillRect(0, 0, width, height);
            
            // Draw atmospheric particles
            drawParticles();
            
            // Update card positions
            cards.forEach(card => card.updatePosition(time));
            
            requestAnimationFrame(animate);
        }
        
        window.addEventListener('resize', resize);
        
        resize();
        init();
        animate();
    </script>
</body>
</html>
